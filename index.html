<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>üéÄ Aurel Cpanel - Risky Hosting</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<link rel="preload" href="https://files.catbox.moe/aokrcz.mp4" as="video">
<style>
/* FONT IMPORTS */
@import url('https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@500;700&family=Inter:wght@400;600;800&display=swap');

/* GLOBAL STYLES - Modern Dark Mode (Requime-like) */
:root {
  --color-bg-dark: #0f0f13; 
  --color-card-dark: #1f2029; 
  --color-primary-blue: #00BFFF; 
  --color-primary-green: #3DDC84; 
  --color-primary-red: #FF6B6B; 
  --color-text-light: #e0e4eb;
  --color-border-subtle: #3A404E;
  --shadow-main: 0 10px 40px rgba(0, 0, 0, 0.6);
}

body {
  margin: 0;
  font-family: 'Inter', sans-serif;
  /* Hapus background default body agar tidak bentrok dengan background #loginDiv */
  background: linear-gradient(135deg, var(--color-bg-dark) 0%, #16171d 100%); 
  color: var(--color-text-light);
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 100vh;
  padding: 20px;
  overflow-x: hidden;
}

h1, h2 {
  font-family: 'Space Grotesk', sans-serif;
  color: var(--color-text-light);
  margin-bottom: 20px;
  font-weight: 700;
  text-align: center;
}

h1 {
  font-size: 2em;
  background: linear-gradient(90deg, var(--color-primary-blue), #007ACC);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  margin-bottom: 30px;
}

.card {
  /* Hapus background agar background image di #loginDiv bisa terlihat */
  background: none; 
  backdrop-filter: none; /* Hapus blur */
  padding: 35px;
  border-radius: 18px;
  box-shadow: none; /* Hapus shadow utama */
  width: 450px;
  max-width: 100%;
  border: none; /* Hapus border */
  overflow-y: auto;
  max-height: 90vh;
  box-sizing: border-box;
  transition: all 0.5s ease;
  position: relative; 
}

/* --- KODE LOGIN PANEL DIBUAT SEDERHANA --- */
#loginDiv {
    background: var(--color-card-dark); 
    position: relative;
    z-index: 1; 
    /* MODIFIKASI: Hapus padding-top agar gambar header menempel rata */
    padding: 0 35px 35px 35px; 
    border-radius: 18px;
    box-shadow: var(--shadow-main);
    border: 1px solid rgba(255, 255, 255, 0.05);
    overflow: hidden;
}

/* **MODIFIKASI PENTING: HAPUS pseudo-element #loginDiv::before (YANG MEMBUATNYA FULL) ** */
/* Ganti dengan hanya menghapus kode ::before yang lama */
#loginDiv::before {
    content: none; /* Hapus fungsi pseudo-element lama */
}

/* Pastikan semua elemen di dalamnya ada di atas background */
#loginDiv h1, #loginDiv .input-group, #loginDiv button, #loginDiv .register-link, #loginDiv .new-login-header {
    position: relative;
    z-index: 2; 
}

#loginDiv h1 {
    font-size: 1.8em;
    text-align: center;
    background: linear-gradient(90deg, #58a6ff, #1f6feb);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
    background-clip: text;
}
#loginDiv input {
    border-radius: 10px;
    /* Ubah background input agar terlihat kontras di atas overlay */
    background: rgba(13, 17, 23, 0.9); 
    border: 2px solid #30363d;
}
#loginDiv #loginBtn {
    background: linear-gradient(135deg, #4c68d7 0%, #3b59c7 100%);
}

/* PERBAIKAN 1: Menambah margin bottom pada input group agar lebih lega */
.input-group {
  margin: 20px 0 25px 0; 
}

.input-label {
  display: block;
  margin-bottom: 10px;
  color: var(--color-text-light);
  font-size: 14px;
  font-weight: 600;
}

input, select {
  padding: 15px 20px;
  width: 100%;
  box-sizing: border-box;
  border-radius: 10px;
  border: 1px solid var(--color-border-subtle);
  outline: none;
  font-size: 16px;
  background: var(--color-bg-dark);
  color: var(--color-text-light);
  transition: all 0.3s ease;
}

/* BUTTONS */
button {
  padding: 15px 20px;
  width: 100%;
  box-sizing: border-box;
  border-radius: 10px;
  cursor: pointer;
  font-weight: 700;
  border: none;
  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
  font-size: 16px;
  margin-top: 15px;
}

/* Primary Button (Login/Create) */
#loginBtn, #createBtn {
  background: linear-gradient(45deg, var(--color-primary-blue), #007ACC);
  color: #fff;
  box-shadow: 0 4px 15px rgba(0, 191, 255, 0.4);
}
#loginBtn:hover, #createBtn:hover { 
  background: linear-gradient(45deg, #007ACC, var(--color-primary-blue));
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0, 191, 255, 0.6);
}

/* Secondary Button (Quick Actions) */
.quick-action-buttons {
  display: none; 
}

/* RAM selector FIX: Kembali ke tampilan Select Dropdown */
.ram-selector-container {
    position: relative;
    margin-bottom: 0px; 
    padding: 0; 
    border: none; 
    background: none;
}
#serverRam {
    /* Tampilkan Select asli */
    display: block !important; 
    padding: 15px 20px;
    width: 100%;
    box-sizing: border-box;
    border-radius: 10px;
    border: 1px solid var(--color-border-subtle);
    background: var(--color-bg-dark);
    color: var(--color-text-light);
}
#ramOptions {
    /* Sembunyikan tombol-tombol kustom */
    display: none;
}

.deleteBtn { 
  background: none;
  border: 1px solid var(--color-primary-red);
  color: var(--color-primary-red);
  margin-top:10px; 
  padding: 10px 15px;
  font-size: 13px;
  width: auto;
  display: block;
  margin-left: auto;
}
.deleteBtn:hover { 
  background: var(--color-primary-red);
  color: #fff;
}

/* USER INFO LAMA (Hanya untuk login div) */
.user-photo-container {
  display: none; /* Sembunyikan div lama */
}
.user-photo {
  display: none; /* Sembunyikan elemen lama */
}
.user-info {
  display: none; /* Sembunyikan elemen lama */
}

/* NEW: TAMPILAN HEADER LOGIN BARU - Mengatur gambar background kotak di sini */
.new-login-header {
    text-align: center;
    /* MODIFIKASI: Mengubah margin-top menjadi 0 agar menempel rata di atas card */
    margin: 0 -35px 30px -35px; 
    
    /* **MODIFIKASI UTAMA: Menambahkan Background Gambar Kotak di SINI** */
    background: url('https://files.catbox.moe/rj0qf4.jpg') center center no-repeat;
    background-size: cover;
    background-blend-mode: multiply; 
    background-color: rgba(0, 0, 0, 0.3); /* Untuk overlay gelap */

    /* Mengikuti radius card (top only) */
    border-top-left-radius: 18px; 
    border-top-right-radius: 18px;
    border-bottom-left-radius: 0; 
    border-bottom-right-radius: 0; 

    position: relative;
    overflow: hidden;
    padding-top: 50px; 
    padding-bottom: 30px; 
    
    /* Tambahkan gradien transparan di bawah agar memudar ke warna card (opsional) */
    /* Pseudo-element AFTER untuk gradien transparan */
    position: relative;
}

/* Pseudo-element AFTER untuk Gradien (membuat bagian bawah gambar memudar) */
.new-login-header::after {
    content: "";
    position: absolute;
    bottom: 0;
    left: 0;
    right: 0;
    height: 50%; /* Seberapa jauh gradien memudar */
    /* Warna gradien dari transparan ke warna card-dark */
    background: linear-gradient(to top, var(--color-card-dark) 0%, transparent 100%);
    z-index: 1; /* Di atas gambar tapi di bawah konten logo */
    pointer-events: none;
}
/* Pastikan konten utama (logo, teks) tetap di atas gradien dan background */
.new-login-header > * {
    position: relative;
    z-index: 2;
}


.login-header-image {
    width: 120px; 
    height: 120px; 
    object-fit: cover;
    display: block;
    margin: 0 auto;
    border-radius: 50%; 
    border: 4px solid var(--color-primary-blue);
    box-shadow: 0 0 15px rgba(0, 191, 255, 0.8); 
}

.login-info-box {
    position: static; 
    padding: 10px 0 0 0;
    background: none; 
}

.login-info-title {
    font-family: 'Space Grotesk', sans-serif;
    font-size: 1.5em;
    font-weight: 700;
    color: var(--color-text-light);
    text-shadow: 0 0 8px rgba(0, 0, 0, 1); 
}
/* END NEW LOGIN HEADER CSS */


/* NEW: HEADER PROFILE & NAVIGATION ICONS (NAILONG STYLE) */
/* MENAMBAHKAN STYLING UNTUK SLIDER CONTAINER */
.profile-header-nailong.slider-container {
    height: 180px;
    border-radius: 10px;
    margin-bottom: 25px;
    overflow: hidden; /* **PENTING** untuk menyembunyikan konten yang tidak ditampilkan */
    box-shadow: 0 5px 20px rgba(0, 0, 0, 0.4);
    position: relative; 
    background: #000;
}

.slider-wrapper {
    display: flex; /* **PENTING** untuk tata letak horizontal */
    width: 200%; /* Disesuaikan dengan jumlah slide (2 slide = 200%) */
    height: 100%;
    transition: transform 0.3s ease-in-out; /* Animasi geser */
}

.slider-item {
    min-width: 50%; /* Setiap item mengambil porsi yang sama (100% / jumlah slide) */
    height: 100%;
    position: relative;
    display: flex; /* Untuk menempatkan overlay di dalamnya */
    align-items: flex-end;
}

/* MODIFIKASI: Menambahkan overflow: hidden pada video-slide */
.slider-item.video-slide {
    overflow: hidden; 
}


/* Styling khusus untuk Slide 2 (Foto) */
.slider-item.image-slide {
    background-size: cover; 
    background-position: center;
}

/* MENAMBAHKAN STYLING UNTUK VIDEO BACKGROUND */
#headerVideo {
    position: absolute;
    top: 50%;
    left: 50%;
    /* Ganti dengan width dan height 100% agar terbatasi oleh parent (.video-slide) */
    width: 100%; 
    height: 100%;
    
    z-index: 1; /* Di belakang overlay */
    
    /* --- OPTIMASI SMOOTHNESS BARU --- */
    will-change: transform, opacity; /* Tambah opacity untuk transisi fade-in */
    transform: translate3d(-50%, -50%, 0); /* Memaksa Akselerasi GPU */
    object-fit: cover; 
    
    opacity: 1; 
    transition: opacity 0.8s ease-in-out; 
    backface-visibility: hidden; 
}

.profile-overlay {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    /* OVERLAY HARUS DI ATAS VIDEO */
    z-index: 2; 
    background: linear-gradient(0deg, var(--color-card-dark) 0%, rgba(31, 32, 41, 0.1) 60%);
    padding: 20px;
    display: flex;
    flex-direction: column;
    justify-content: flex-end;
}
.profile-username {
    font-family: 'Space Grotesk', sans-serif;
    font-size: 1.8em;
    font-weight: 700;
    color: var(--color-text-light);
    text-shadow: 0 0 10px rgba(0, 0, 0, 0.8);
    margin-bottom: 5px;
}
.profile-version {
    font-size: 0.9em;
    color: var(--color-primary-blue);
    font-weight: 600;
}

/* Styling untuk indikator dot */
.slider-dots {
    position: absolute;
    bottom: 10px;
    left: 50%;
    transform: translateX(-50%);
    z-index: 5; /* Di atas overlay */
    display: flex;
    gap: 8px;
}

.dot {
    height: 8px;
    width: 8px;
    background-color: rgba(255, 255, 255, 0.5);
    border-radius: 50%;
    display: inline-block;
    cursor: pointer;
    transition: background-color 0.3s, transform 0.3s;
}

.dot.active {
    background-color: var(--color-primary-blue);
    transform: scale(1.2);
}
/* END SLIDER CSS */


/* New: ICON NAVIGATION GRID */
.icon-navigation-grid {
    display: flex;
    justify-content: space-around;
    gap: 15px;
    margin-bottom: 30px;
    padding: 0 10px;
    text-align: center;
}
.nav-item {
    display: flex;
    flex-direction: column;
    align-items: center;
    text-decoration: none;
    color: var(--color-text-light);
    font-size: 0.8em;
    cursor: pointer;
    width: 25%;
}
.nav-icon {
    width: 55px;
    height: 55px;
    border-radius: 12px;
    background: var(--color-card-dark);
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 22px;
    margin-bottom: 5px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.4);
    transition: transform 0.2s;
    border: 1px solid var(--color-border-subtle);
}
.nav-item:hover .nav-icon {
    transform: scale(1.05);
    background: var(--color-primary-blue);
    color: #fff;
    border-color: var(--color-primary-blue);
}

/* Specific Icon Colors (Optional, for visual) */
.nav-icon.stats { background: #333; color: var(--color-primary-green); }
.nav-icon.history { background: #333; color: #ffab00; }
.nav-icon.whatsapp { background: #25D366; color: #fff; }
.nav-icon.logout { background: #cc3333; color: #fff; }

/* PERBAIKAN 2: Mengubah background agar tidak buram dan lebih solid */
.info {
  font-size: 13px;
  line-height: 1.8;
  margin-bottom: 25px;
  /* Menggunakan warna background gelap solid, bukan rgba transparan */
  background: var(--color-bg-dark); 
  padding: 20px;
  border-radius: 12px;
  border: 1px solid var(--color-border-subtle);
  border-left: 5px solid var(--color-primary-blue);
  font-family: 'Inter', sans-serif;
  color: var(--color-text-light);
}
.info strong {
    color: var(--color-primary-blue);
}

/* SERVER STATUS */
.server-status {
  /* Hapus text-align: right agar bisa di tengah di login div */
  text-align: right; 
  font-size: 13px;
  font-weight: 60;
}
.server-status span {
  padding: 6px 15px;
  border-radius: 8px;
  display: inline-block;
}
.online { 
  background: var(--color-primary-green);
  color: var(--color-card-dark);
}
.maintenance { 
  background: var(--color-primary-red);
  color: #fff;
}

#result {
  font-family: 'Space Grotesk', monospace;
  white-space: pre-wrap;
  margin-top: 25px;
  background: var(--color-bg-dark);
  padding: 20px;
  border-radius: 12px;
  max-height: 250px;
  overflow-y: auto;
  border: 1px solid var(--color-border-subtle);
  font-size: 14px;
  border-left: 5px solid var(--color-primary-green);
}

.contact {
  margin-top: 30px;
  display: none; 
}

#historySection { display: none; }

/* TOP BAR MENU (Hamburger) */
.panel-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
    padding-top: 10px;
}

#menuToggleBtn {
    background: none;
    padding: 10px;
    width: auto;
    margin: 0;
    font-size: 24px;
    color: var(--color-primary-blue);
    transition: color 0.3s;
    border-radius: 8px;
    z-index: 10;
}
#menuToggleBtn:hover {
    color: #fff;
    background: var(--color-border-subtle);
    transform: none;
    box-shadow: none;
}
/* Menyembunyikan user info lama di dalam #panel setelah header baru ditambahkan */
#panel .user-photo-container {
    display: none;
}

/* SIDEBAR STYLES - NEW */
.sidebar {
    height: 100vh;
    width: 280px;
    position: fixed;
    z-index: 20;
    top: 0;
    left: 0;
    background-color: var(--color-card-dark);
    box-shadow: 5px 0 15px rgba(0, 0, 0, 0.8);
    padding-top: 20px;
    transform: translateX(-100%);
    transition: transform 0.3s ease-in-out;
    border-right: 2px solid var(--color-border-subtle);
}

.sidebar.open {
    transform: translateX(0);
}

.sidebar-content {
    padding: 15px;
}

.sidebar-header {
    padding: 15px;
    margin-bottom: 20px;
    border-bottom: 1px solid var(--color-border-subtle);
    font-size: 14px;
    color: var(--color-primary-blue);
    font-weight: 600;
}
.sidebar-header strong {
    display: block;
    font-size: 16px;
    color: var(--color-text-light);
    margin-top: 5px;
}

.sidebar-menu a, .sidebar-menu button {
    display: flex;
    align-items: center;
    padding: 12px 15px;
    text-decoration: none;
    color: var(--color-text-light);
    font-size: 15px;
    border-radius: 8px;
    transition: background-color 0.2s;
    background: none;
    border: none;
    width: 100%;
    text-align: left;
    cursor: pointer;
    box-sizing: border-box;
    margin-top: 0;
}
.sidebar-menu i {
    margin-right: 10px;
    font-size: 18px;
    color: var(--color-primary-blue);
}
.sidebar-menu a:hover, .sidebar-menu button:hover {
    background-color: var(--color-border-subtle);
}

.sidebar-menu .subheader {
    margin-top: 20px;
    padding: 10px 15px 5px 15px;
    color: var(--color-border-subtle);
    text-transform: uppercase;
    font-size: 12px;
    font-weight: 700;
}

/* Sub-menu (Contact Owner) */
.sidebar-menu .menu-item.active {
    background: rgba(0, 191, 255, 0.1);
}
.sidebar-menu .menu-item.active i {
    color: #fff;
}

#contactSubMenu {
    padding-left: 10px;
    display: none;
}
#contactSubMenu.show {
    display: block;
}
#contactSubMenu a {
    padding-left: 40px; 
    font-size: 14px;
    margin-top: 5px;
}
#contactSubMenu i {
    font-size: 15px;
}
.whatsapp-channel i { color: #25D366; }
.whatsapp-support i { color: #3DDC84; }
.telegram-link i { color: #0088CC; }

/* Overlay untuk menutup sidebar */
.overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background: rgba(0, 0, 0, 0.5);
    z-index: 15;
    display: none;
}

/* --- PERBAIKAN: Menyembunyikan elemen audio sepenuhnya --- */
#backgroundMusic {
    display: none !important; 
    width: 0;
    height: 0;
    opacity: 0;
    position: absolute; 
}
/* --- END PERBAIKAN --- */

@media(max-width: 500px){
  body {
    padding: 10px;
  }
  .card {
    width: 100%;
    /* Atur ulang padding dan margin di mobile */
    padding: 25px; 
  }
  #loginDiv {
      /* MODIFIKASI MOBILE: Sesuaikan padding tanpa padding atas */
      padding: 0 25px 25px 25px;
      margin: 0;
      /* Hapus padding-top dan biarkan padding: 25px; */
  }
  
  /* Sesuaikan margin header untuk mobile */
  .new-login-header {
      /* MODIFIKASI MOBILE: Sesuaikan margin-top menjadi 0 */
      margin: 0 -25px 30px -25px; 
  }
}
</style>
</head>
<body> 
<div class="overlay" id="sidebarOverlay"></div>

<div class="sidebar" id="mainSidebar">
    <div class="sidebar-header">
        RISKY HOSTING
        <strong id="sidebarUsername">Risky Hosting</strong>
    </div>
    <div class="sidebar-menu">
        <a href="#" class="menu-item active-menu">
            <i class="fas fa-desktop"></i> Menu Halaman
        </a>
        
        <button id="toggleContactMenu" class="menu-item">
            <i class="fas fa-address-book"></i> Contact Owner
        </button>
        
        <div id="contactSubMenu">
            <a href="https://t.me/angelhostingg" target="_blank" class="whatsapp-support">
                <i class="fab fa-telegram"></i> Telegram CS
            </a>
            <a href="https://whatsapp.com/channel/0029VakX8k0KGGGGka6PFN00" target="_blank" class="whatsapp-channel">
                <i class="fab fa-whatsapp"></i> Saluran WhatsApp
            </a>
            <a href="https://t.me//angelhostingg" target="_blank" class="telegram-link">
                <i class="fab fa-telegram-plane"></i> Telegram
            </a>
        </div>

        <div class="subheader">AKSI LAIN</div>
        <button onclick="document.getElementById('listBtn').click(); closeSidebar();">
            <i class="fas fa-chart-bar"></i> Lihat Jumlah Server
        </button>
        <button onclick="document.getElementById('historyBtn').click(); closeSidebar();">
            <i class="fas fa-history"></i> Riwayat Server
        </button>
        <button onclick="document.getElementById('logoutBtn').click(); closeSidebar();" style="color:var(--color-primary-red);">
            <i class="fas fa-sign-out-alt"></i> Logout
        </button>
    </div>
</div>

<div class="card" id="loginDiv">
  <div class="new-login-header">
    <img src="https://qu.ax/lJYak.jpg" alt="Profile Header" class="login-header-image">
    <div class="login-info-box">
        <div class="login-info-title">RISKY HOSTING</div>
        <div class="server-status" id="serverStatus" style="margin-top: 10px; text-align: center;">Checking server...</div> 
    </div>
  </div>
  
  <h1 style="font-size: 1.8em; margin-bottom: 20px;">Create Panel Login</h1>

  
  <div class="input-group">
    <div class="input-label">Username</div>
    <input type="text" id="username" placeholder="Enter your username">
  </div>
  
  <div class="input-group">
    <div class="input-label">Password</div>
    <input type="password" id="password" placeholder="Enter your password">
  </div>
  
  <button id="loginBtn">üîí Login</button> <div id="loginError" style="color:#f85149; text-align:center; margin-top:10px; font-size:13px;"></div>

  <div class="register-link">
    Belum punya akun? 
    <br>
    <a href="https://t.me/angelhostingg" target="_blank" style="color: #00BFFF;"> <b><i class="fab fa-telegram"></i> Beli Sekarang (Telegram)</b>
    </a>
    <br>
    <a href="https://whatsapp.com/channel/0029VakX8k0KGGGGka6PFN00" target="_blank" style="color: #00BFFF;"> <b><i class="fas fa-bullhorn"></i> Saluran Owner (WhatsApp)</b>
    </a>
  </div>
</div>


<div class="card" id="panel" style="display:none;">
  <div class="panel-header">
    <button id="menuToggleBtn" title="Menu Panel">
        <i class="fas fa-bars"></i>
    </button>
    <div class="server-status" id="serverStatusPanel">Checking server...</div>
  </div>
  
  <div class="profile-header-nailong slider-container">
    <div class="slider-wrapper" id="headerSliderWrapper">
        
        <div class="slider-item video-slide">
            <video autoplay muted loop playsinline preload="auto" id="headerVideo"> 
              <source src="https://files.catbox.moe/aokrcz.mp4" type="video/mp4">
              Browser Anda tidak mendukung tag video.
            </video>
            <div class="profile-overlay">
                <div class="profile-username" id="panelUsernameDisplay">RISKY HOSTING</div>
                <div class="profile-version">VERSION 2.0</div>
            </div>
        </div>
        
        <div class="slider-item image-slide" style="background-image: url('https://files.catbox.moe/r7whcq.jpg');">
            <div class="profile-overlay">
                <div class="profile-username">RISKY HOSTING</div>
                <div class="profile-version">VERSION 2.0</div>
            </div>
        </div>
        
    </div>
    
    <div class="slider-dots" id="sliderDots">
        <span class="dot active"></span>
        <span class="dot"></span>
    </div>
  </div>
  <div class="icon-navigation-grid">
    <a class="nav-item" id="listBtnNav">
        <div class="nav-icon stats"><i class="fas fa-chart-bar"></i></div>
        <span>Stats</span>
    </a>
    
    <a class="nav-item" id="historyBtnNav">
        <div class="nav-icon history"><i class="fas fa-history"></i></div>
        <span>Riwayat</span>
    </a>

    <a href="https://t.me/angelhostingg" target="_blank" class="nav-item">
        <div class="nav-icon telegram"><i class="fab fa-telegram"></i></div>
        <span>Owner</span>
    </a>

    <a class="nav-item" id="logoutBtnNav">
        <div class="nav-icon logout"><i class="fas fa-sign-out-alt"></i></div>
        <span>Logout</span>
    </a>
  </div>
  <div class="info">
    üìç **·¥Ñ·¥Ä·¥õ·¥Ä·¥õ·¥Ä…¥ ·¥ò·¥á…¥·¥õ…™…¥…¢:**
    <br>‚Ä¢ ·¥ò·¥Ä…¥·¥á ü ·¥ä·¥Ä…¥…¢·¥Ä…¥ ·¥Ö…™ ·¥Ö·¥Ö·¥èÍú±
    <br>‚Ä¢ ·¥õ·¥ú·¥õ·¥ú·¥ò…™ ·¥Ö·¥è·¥ç·¥Ä…™…¥ ·¥ò·¥Ä…¥·¥á ü ·¥ã·¥á·¥õ…™·¥ã·¥Ä ·¥Ö…™ Íú±·¥Ñ Ä·¥á·¥á…¥Íú± ú·¥è·¥õ
    <br>‚Ä¢ ·¥Ö·¥è·¥ç·¥Ä…™…¥ ·¥ò·¥Ä…¥·¥á ü ·¥ä·¥Ä…¥…¢·¥Ä…¥ ·¥Ö…™ Íú±·¥á ô·¥Ä Ä
    <br>‚Ä¢ ·¥áx·¥ò…™ Ä·¥á·¥Ö ·¥ò·¥Ä…¥·¥á ü ¬±ùü£  ô·¥ú ü·¥Ä…¥ ·¥ò·¥á…¥·¥ú ú
    <br>‚Ä¢  ô…™·¥ã…™…¥ Íú±·¥á Ä·¥†·¥á Ä  ú·¥Ä Ä·¥úÍú± ·¥Ö…™·¥ò·¥Ä·¥ã·¥Ä…™I
    <br>‚Ä¢ ·¥ä…™·¥ã·¥Ä ·¥úÍú±·¥á Ä …¥·¥Ä·¥ç·¥á/·¥ò·¥°  ô·¥á Ä·¥ú ô·¥Ä ú = ·¥ò·¥õ" ùü•·¥ã
  </div>
  
  <h2>Create Panel</h2>
  
  <div class="input-group">
    <div class="input-label">Nama Server</div>
    <input type="text" id="serverName" placeholder="Masukkan nama server" maxlength="20">
  </div>
  
  <div class="input-group">
    <div class="input-label">Pilih RAM</div>
    <div class="ram-selector-container">
        <select id="serverRam"></select> 
        
        <div id="ramOptions">
            </div>
    </div>
  </div>
  
  <button id="createBtn">üéØ Create Panel</button>
  
  <div class="quick-action-buttons">
    <button id="listBtn">üìä Lihat Jumlah Server</button>
    <button id="historyBtn">üìã Lihat Riwayat</button>
  </div>
  
  <div id="result"></div>
  
  <button id="logoutBtn" style="margin-top:15px; display: none;">üö™ Logout</button>
  
  <div class="contact">
    <a href="https://whatsapp.com/channel/0029VakX8k0KGGGGka6PFN00" target="_blank" title="WhatsApp Channel">
      <i class="fab fa-whatsapp"></i>
    </a>
    <a href="https://t.me/angelhostingg" target="_blank" title="Customer Support">
      <i class="fas fa-headset"></i>
    </a>
  </div>
</div>

<div class="card" id="historySection">
  <h2>üìú Riwayat Server</h2>
  <div id="historyList"></div>
  <button id="backBtn">‚¨ÖÔ∏è Kembali ke Panel</button>
</div>

<audio id="backgroundMusic" loop preload="auto" muted>
    <source src="https://files.catbox.moe/iodhjt.mp3" type="audio/mp3">
    Browser Anda tidak mendukung elemen audio.
</audio>

<script>
const loginDiv = document.getElementById('loginDiv');
const panel = document.getElementById('panel');
const historySection = document.getElementById('historySection');
const loginBtn = document.getElementById('loginBtn');
const loginError = document.getElementById('loginError');
const resultDiv = document.getElementById('result');
const serverStatus = document.getElementById('serverStatus');
const serverStatusPanel = document.getElementById('serverStatusPanel');
const ramSelect = document.getElementById('serverRam');
const listBtn = document.getElementById('listBtn'); 
const historyBtn = document.getElementById('historyBtn');
const logoutBtn = document.getElementById('logoutBtn');

const historyList = document.getElementById('historyList');
const backBtn = document.getElementById('backBtn');
const ramOptionsDiv = document.getElementById('ramOptions');
const menuToggleBtn = document.getElementById('menuToggleBtn');
const mainSidebar = document.getElementById('mainSidebar');
const sidebarOverlay = document.getElementById('sidebarOverlay');
const toggleContactMenu = document.getElementById('toggleContactMenu');
const contactSubMenu = document.getElementById('contactSubMenu');
const sidebarUsername = document.getElementById('sidebarUsername');
const panelUsernameDisplay = document.getElementById('panelUsernameDisplay');

const listBtnNav = document.getElementById('listBtnNav');
const historyBtnNav = document.getElementById('historyBtnNav');
const logoutBtnNav = document.getElementById('logoutBtnNav');
const headerVideo = document.getElementById('headerVideo'); 

// --- START OF MODIFIED CODE FOR BACKGROUND MUSIC ---
const backgroundMusic = document.getElementById('backgroundMusic');

// Fungsi yang mencoba memutar musik (dipicu oleh interaksi user: klik Login)
function playBackgroundMusic() {
    if (backgroundMusic) {
        // Coba batalkan mute dan mainkan musik karena dipicu oleh klik user (Login)
        backgroundMusic.muted = false; 
        backgroundMusic.volume = 0.5; // Atur volume 50%
        
        const playPromise = backgroundMusic.play();

        if (playPromise !== undefined) {
            playPromise.then(() => {
                console.log("Musik berhasil diputar setelah klik login.");
            }).catch(error => {
                // Autoplay diblokir, kembalikan ke kondisi muted
                console.warn("Musik gagal diputar (Autoplay diblokir):", error);
                backgroundMusic.muted = true;
                // Anda mungkin perlu menambahkan tombol Unmute di panel untuk kasus ini
            });
            return playPromise; // Mengembalikan promise untuk tracking
        }
    }
}
// --- END OF MODIFIED CODE FOR BACKGROUND MUSIC ---


// Data RAM Options 
const ramData = ['1 GB','2 GB','3 GB','4 GB','5 GB','6 GB','7 GB','8 GB','9 GB','10 GB','Unlimited RAM'];

// BAGIAN 1: Mengisi elemen <select> ASLI 
ramData.forEach((val,i)=>{
  const opt = document.createElement('option');
  // Logika value: 1, 2, 3, ... 'unlimited'
  opt.value = i === 10 ? 'unlimited' : (i + 1); 
  opt.textContent = val;
  ramSelect.appendChild(opt);
});

// FUNGSI SIDEBAR MENU
function openSidebar() {
    mainSidebar.classList.add('open');
    sidebarOverlay.style.display = 'block';
}

function closeSidebar() {
    mainSidebar.classList.remove('open');
    sidebarOverlay.style.display = 'none';
}

menuToggleBtn.addEventListener('click', openSidebar);
sidebarOverlay.addEventListener('click', closeSidebar);

// FUNGSI Toggle Contact Menu (Sub-Menu)
toggleContactMenu.addEventListener('click', () => {
    contactSubMenu.classList.toggle('show');
    toggleContactMenu.classList.toggle('active');
});

// **START: SOLUSI JAVASCRIPT UNTUK AUTOPLAY VIDEO & ANIMASI CARD**
document.addEventListener('DOMContentLoaded', function() {
    // Coba memutar video secara paksa setelah DOMContentLoaded
    if (headerVideo) {
        // Coba putar video (muted)
        const playPromise = headerVideo.play();

        // Jika .play() mengembalikan Promise 
        if (playPromise !== undefined) {
            playPromise.then(() => {
                console.log("Video berhasil autoplay (muted).");
            }).catch(error => {
                console.warn("Autoplay video mungkin diblokir, namun seharusnya terlihat karena CSS opacity: 1.");
            });
        }
    }
    
    // Logika animasi card yang sudah ada
    const cards = document.querySelectorAll('.card');
    cards.forEach(card => {
      card.style.opacity = '0';
      card.style.transform = 'translateY(20px)';
    });
    
    setTimeout(() => {
      cards.forEach(card => {
        card.style.transition = 'opacity 0.5s ease, transform 0.5s ease';
        card.style.opacity = '1';
        card.style.transform = 'translateY(0)';
      });
    }, 100);
    
    // --- INISIALISASI SLIDER SETELAH DOM READY ---
    // Pastikan fungsi ini dipanggil saat DOM sudah siap
    // Ini juga dipanggil di fungsi touchEnd untuk update
    updateDots(); 
    window.addEventListener('resize', () => {
        // Re-calculate lebar item jika ukuran layar berubah
        const newSlideWidth = document.querySelector('.slider-item').clientWidth;
        currentTranslate = currentSlide * -newSlideWidth;
        setSliderPosition();
    });
});
// **END: SOLUSI JAVASCRIPT UNTUK AUTOPLAY VIDEO & ANIMASI CARD**


// Check server status (KODE ASLI)
(async () => {
  try {
    const res = await fetch('/api/server');
    const data = await res.json();
    const statusHTML = `<span class="${data.success?'online':'maintenance'}">${data.success?'üü¢ ONLINE':'üî¥ MAINTENANCE'}</span>`;
    serverStatus.innerHTML = statusHTML;
    serverStatusPanel.innerHTML = statusHTML;
  } catch {
    const offlineHTML = `<span class="maintenance">üî¥ MAINTENANCE</span>`;
    serverStatus.innerHTML = offlineHTML;
    serverStatusPanel.innerHTML = offlineHTML;
  }
})();

// === Auto login dengan cek expire 20 menit === (KODE ASLI)
(function checkLogin(){
  const username = localStorage.getItem('username');
  const loginTime = localStorage.getItem('loginTime');
  
  if(username && loginTime){
    const loginDate = new Date(loginTime);
    const now = new Date();
    const diffMinutes = (now - loginDate) / 60000;
    
    if(diffMinutes >= 20){
      localStorage.removeItem('username');
      localStorage.removeItem('loginTime');
      loginDiv.style.display='block';
      panel.style.display='none';
    } else {
      loginDiv.style.display='none';
      panel.style.display='block';
      // Update sidebar username saat berhasil login
      sidebarUsername.textContent = username;
      panelUsernameDisplay.textContent = username; // UPDATE NAMA DI HEADER PANEL BARU
      
      // Coba putar musik saat auto-login (tidak dijamin berfungsi)
      // playBackgroundMusic(); 
    }
  } else {
    loginDiv.style.display='block';
    panel.style.display='none';
  }
})();

// Interval checker tiap menit (KODE ASLI)
setInterval(()=>{
  const loginTime = localStorage.getItem('loginTime');
  if(loginTime){
    const now = new Date();
    const diffMinutes = (now - new Date(loginTime)) / 60000;
    if(diffMinutes >= 20){
      localStorage.removeItem('username');
      localStorage.removeItem('loginTime');
      location.reload();
    }
  }
}, 60000);

// MODIFIKASI: Login (Memaksa putar musik segera setelah klik)
loginBtn.addEventListener('click', async ()=>{
  const username = document.getElementById('username').value.trim();
  const password = document.getElementById('password').value.trim();
  loginError.textContent="";
  loginError.style.display = "none";
  
  if(!username || !password) {
    loginError.textContent = "Username dan password harus diisi!";
    loginError.style.display = "block";
    return;
  }
  
  loginBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Loading...';
  loginBtn.disabled = true;

  // üí• MODIFIKASI UTAMA: Coba putar musik segera setelah tombol diklik
  const musicPromise = playBackgroundMusic(); 

  try{
    const res = await fetch('/api/server',{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({action:'login', username, password})
    });
    const data = await res.json();
    if(data.success){
      const now = new Date();
      localStorage.setItem('username', username);
      localStorage.setItem('loginTime', now.toISOString());
      loginDiv.style.display='none';
      panel.style.display='block';
      
      // Update user info
      // document.querySelectorAll('.user-info')[0].textContent = `${username} - Requime Digital Store`; // Baris ini tidak perlu karena header lama sudah dihapus
      sidebarUsername.textContent = username; // Update sidebar username
      panelUsernameDisplay.textContent = username; // UPDATE NAMA DI HEADER PANEL BARU
    } else {
      // JIKA GAGAL: Jeda musik dan kembalikan ke muted
      if (musicPromise && backgroundMusic) {
          backgroundMusic.pause();
          backgroundMusic.currentTime = 0;
          backgroundMusic.muted = true; 
      }
      loginError.textContent = data.message;
      loginError.style.display = "block";
    }
  }catch(err){ 
    // JIKA ERROR: Jeda musik dan kembalikan ke muted
    if (musicPromise && backgroundMusic) {
        backgroundMusic.pause();
        backgroundMusic.currentTime = 0;
        backgroundMusic.muted = true;
    }
    loginError.textContent = "Koneksi gagal. Coba lagi nanti.";
    loginError.style.display = "block";
  } finally {
    loginBtn.innerHTML = 'Login';
    loginBtn.disabled = false;
  }
});

// Logout (KODE ASLI)
document.getElementById('logoutBtn').addEventListener('click',()=>{
  localStorage.removeItem('username');
  localStorage.removeItem('loginTime');
  
  // MODIFIKASI: Hentikan musik saat logout
  if (backgroundMusic) {
      backgroundMusic.pause();
      backgroundMusic.currentTime = 0; // Kembalikan ke awal
      backgroundMusic.muted = true; // Set ke muted
  }
  // END MODIFIKASI
  
  location.reload();
});

// NEW: Sambungkan tombol navigasi ikon baru ke fungsi lama
listBtnNav.addEventListener('click', listBtn.click.bind(listBtn)); 
historyBtnNav.addEventListener('click', historyBtn.click.bind(historyBtn)); 
logoutBtnNav.addEventListener('click', logoutBtn.click.bind(logoutBtn)); 

// Create server (KODE ASLI)
document.getElementById('createBtn').addEventListener('click', async ()=>{
  const name = document.getElementById('serverName').value.trim();
  const ram = ramSelect.value;
  if(!name) return alert("‚ö†Ô∏è Nama server harus diisi!");
  
  const createBtn = document.getElementById('createBtn');
  createBtn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Membuat...';
  createBtn.disabled = true;
  
  resultDiv.textContent="üöÄ Membuat server...";
  try{
    const res = await fetch('/api/server',{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({action:'create', name, ram})
    });
    const data = await res.json();
    if(data.success){
      resultDiv.textContent=`‚úÖ SERVER BERHASIL DIBUAT!\n\n` +
                           `‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n` +
                           `‚îÇ üìç Login Panel: ${data.panel}\n` +
                           `‚îÇ üë§ Username: ${data.username}\n` +
                           `‚îÇ üìß Email: ${data.email}\n` +
                           `‚îÇ üîë Password: ${data.password}\n` +
                           `‚îÇ üíæ RAM: ${data.ram*550} MB\n` +
                           `‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n\n` +
                           `‚ö†Ô∏è Simpan informasi ini dengan aman!`;

      const history = JSON.parse(localStorage.getItem('serverHistory')||'[]');
      history.push({
        date: new Date().toLocaleString('id-ID', { 
          weekday: 'long', 
          year: 'numeric', 
          month: 'long', 
          day: 'numeric',
          hour: '2-digit',
          minute: '2-digit'
        }),
        username: data.username,
        password: data.password,
        panel: data.panel,
        serverId: data.serverId
      });
      localStorage.setItem('serverHistory', JSON.stringify(history));
    } else {
      resultDiv.textContent="‚ùå Gagal: "+data.message;
    }
  }catch(err){ 
    resultDiv.textContent="‚ö†Ô∏è Error: "+err.message;
  } finally {
    createBtn.innerHTML = 'üéØ Create Panel';
    createBtn.disabled = false;
  }
});

// List servers (KODE ASLI)
document.getElementById('listBtn').addEventListener('click', async ()=>{
  const listBtnElement = listBtnNav.querySelector('.nav-icon');
  
  const originalIcon = listBtnElement.innerHTML;
  listBtnElement.innerHTML = '<i class="fas fa-spinner fa-spin"></i>';
  listBtnNav.style.pointerEvents = 'none'; // Disable klik
  
  resultDiv.textContent="üì° Mengambil data server...";
  try{
    const res = await fetch('/api/server');
    const data = await res.json();
    if(data.success) {
      resultDiv.textContent=`üìä STATISTIK SERVER\n\n` +
                           `‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n` +
                           `‚îÇ Jumlah server aktif: ${data.count}\n` +
                           `‚îÇ Status: üü¢ ONLINE\n` +
                           `‚îÇ Update: ${new Date().toLocaleTimeString()}\n` +
                           `‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò`;
    } else {
      resultDiv.textContent="‚ùå Gagal ambil data: "+data.message;
    }
  }catch(err){ 
    resultDiv.textContent="‚ö†Ô∏è Error: "+err.message;
  } finally {
    listBtnElement.innerHTML = originalIcon;
    listBtnNav.style.pointerEvents = 'auto'; // Enable klik
  }
});

// Lihat Riwayat (KODE ASLI)
historyBtn.addEventListener('click', ()=>{
  panel.style.display='none';
  historySection.style.display='block';
  renderHistory();
});

// Kembali ke panel utama (KODE ASLI)
backBtn.addEventListener('click', ()=>{
  historySection.style.display='none';
  panel.style.display='block';
});

// Render riwayat (KODE ASLI)
function renderHistory(){
  historyList.innerHTML='';
  const history = JSON.parse(localStorage.getItem('serverHistory')||'[]');
  if(history.length===0){
    historyList.innerHTML='<div class="info" style="text-align:center;">üì≠ Tidak ada riwayat server.</div>';
    return;
  }
  
  history.forEach((entry,i)=>{
    const historyCard = document.createElement('div');
    historyCard.className='info';
    historyCard.innerHTML=`
      <div style="display: flex; align-items: center; margin-bottom: 10px;">
        <div style="background: #238636; color: white; width: 30px; height: 30px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin-right: 10px;">
          ${i+1}
        </div>
        <strong style="flex-grow: 1;">${entry.username}</strong>
        <span style="font-size: 12px; color: #8b949e;">${entry.date}</span>
      </div>
      <div style="margin-left: 40px;">
        <div><strong>üîë Password:</strong> ${entry.password}</div>
        <div><strong>üåê Panel:</strong> <a href="${entry.panel}" target="_blank" style="color:#58a6ff; text-decoration:none;">${entry.panel}</a></div>
      </div>
    `;
    
    const delBtn = document.createElement('button');
    delBtn.innerHTML = '<i class="fas fa-trash-alt"></i> Hapus Server';
    delBtn.className='deleteBtn';
    delBtn.addEventListener('click', async ()=>{
      if(!confirm('‚ö†Ô∏è Yakin ingin menghapus server ini?')) return;
      try{
        const res = await fetch('/api/server',{
          method:'POST',
          headers:{'Content-Type':'application/json'},
          body:JSON.stringify({action:'delete', serverId: entry.serverId})
        });
        const data = await res.json();
        if(data.success){
          alert('‚úÖ Server berhasil dihapus!');
          history.splice(i,1);
          localStorage.setItem('serverHistory', JSON.stringify(history));
          renderHistory();
        } else alert('‚ùå Gagal hapus server: '+data.message);
      }catch(err){ alert('‚ö†Ô∏è Error: '+err.message); }
    });
    
    historyCard.appendChild(delBtn);
    historyList.appendChild(historyCard);
  });
}

// --- JAVASCRIPT BARU UNTUK SLIDER SWIPE ---

const sliderWrapper = document.getElementById('headerSliderWrapper');
const sliderItems = document.querySelectorAll('.slider-item');
const sliderDots = document.getElementById('sliderDots').querySelectorAll('.dot');

let currentSlide = 0;
let isDragging = false;
let startPos = 0;
let currentTranslate = 0;
let prevTranslate = 0;
// Gunakan ClientWidth dari elemen pertama (slide 1) untuk lebar
let slideWidth = sliderItems[0] ? sliderItems[0].clientWidth : 0; 


function setPositionByIndex() {
    // Pastikan slideWidth terdefinisi sebelum perhitungan
    slideWidth = sliderItems[0] ? sliderItems[0].clientWidth : 0;
    if (slideWidth === 0) return; // Stop jika lebar belum terdeteksi
    
    currentTranslate = currentSlide * -slideWidth;
    setSliderPosition();
    updateDots();
}

function setSliderPosition() {
    sliderWrapper.style.transform = `translateX(${currentTranslate}px)`;
}

function updateDots() {
    sliderDots.forEach((dot, index) => {
        dot.classList.remove('active');
        if (index === currentSlide) {
            dot.classList.add('active');
        }
    });
}

// Event Listeners untuk Touch
if (sliderWrapper) {
    sliderWrapper.addEventListener('touchstart', touchStart);
    sliderWrapper.addEventListener('touchend', touchEnd);
    sliderWrapper.addEventListener('touchmove', touchMove);
}

// Event Listeners untuk Dots
sliderDots.forEach((dot, index) => {
    dot.addEventListener('click', () => {
        currentSlide = index;
        setPositionByIndex();
    });
});

// Fungsi Touch Handlers
function touchStart(event) {
    if (event.touches.length !== 1) return; // Hanya berlaku untuk 1 jari
    slideWidth = sliderItems[0].clientWidth; // Update lebar
    startPos = event.touches[0].clientX;
    isDragging = true;
    // Hapus transisi agar gesekan terasa responsif
    sliderWrapper.style.transition = 'none'; 
}

function touchMove(event) {
    if (!isDragging) return;
    const currentPos = event.touches[0].clientX;
    const deltaX = currentPos - startPos;
    
    // Geser wadah dengan mengikuti sentuhan
    currentTranslate = prevTranslate + deltaX;
    setSliderPosition();
}

function touchEnd() {
    if (!isDragging) return;
    isDragging = false;
    
    const movedBy = currentTranslate - prevTranslate;
    
    // Aktifkan kembali transisi
    sliderWrapper.style.transition = 'transform 0.3s ease-in-out'; 

    // Logika menentukan slide berikutnya (Toleransi geser > 50px)
    if (movedBy < -50) { // Swipe ke kiri (pindah ke slide berikutnya)
        currentSlide = Math.min(currentSlide + 1, sliderItems.length - 1);
    } else if (movedBy > 50) { // Swipe ke kanan (pindah ke slide sebelumnya)
        currentSlide = Math.max(currentSlide - 1, 0);
    }
    
    // Terapkan posisi slide yang baru
    setPositionByIndex();
    prevTranslate = currentTranslate; // Reset posisi awal geser berikutnya
}

// Tambahkan inisialisasi pada load agar posisi slider benar
window.addEventListener('load', setPositionByIndex);

// End of original JavaScript code
</script>

</body>
</html>

